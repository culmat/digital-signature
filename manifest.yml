modules:
  macro:
    - key: digital-signature-confluence-cloud-culmat
      resource: main
      render: native
      resolver:
        function: resolver
      title: digital-signature
      config:
        resource: macro-config
        viewportSize: max
        render: native
        title: Digital Signature
      adfExport:
        function: adfExportFunction
  confluence:globalSettings:
    - key: digital-signature-admin-settings
      title: Digital Signature Admin
      resource: admin-ui
      render: native
      resolver:
        function: resolver
  trigger:
    - key: page-lifecycle-trigger
      function: pageLifecycleHandler
      events:
        - avi:confluence:trashed:page
        - avi:confluence:deleted:page
  function:
    - key: resolver
      handler: index.handler
    - key: adfExportFunction
      handler: adfExport.handler
    - key: pageLifecycleHandler
      handler: pageLifecycleHandler.handler
  sql:
    - key: db
      engine: mysql
resources:
  - key: main
    path: src/frontend/index.jsx
  - key: macro-config
    path: src/frontend/config.jsx
  - key: admin-ui
    path: src/frontend/admin.jsx
app:
  runtime:
    name: nodejs22.x
    memoryMB: 256
    architecture: arm64
  id: ari:cloud:ecosystem::app/bab5617e-dc42-4ca8-ad38-947c826fe58c
permissions:
  scopes:
    - read:confluence-user
    - read:confluence-content.all
    - read:confluence-content.summary
    - write:confluence-content
    - storage:app
    - read:user:confluence
